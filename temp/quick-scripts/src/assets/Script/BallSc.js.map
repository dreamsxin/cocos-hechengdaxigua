{"version":3,"sources":["assets\\src\\BallSc.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,mCAA8B;AAExB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAoC,0BAAY;IAAhD;QAAA,qEAiCC;QA9BG,eAAS,GAAW,CAAC,CAAC;QACtB,mBAAmB;QACnB,oBAAc,GAAG,KAAK,CAAC;QACvB,qBAAqB;QACrB,YAAM,GAAG,KAAK,CAAC;;IA0BnB,CAAC;eAjCoB,MAAM;IAQvB,sBAAK,GAAL;QACI,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC,WAAW,GAAG,GAAG,CAAC;IAC5D,CAAC;IAED,+BAAc,GAAd,UAAe,OAAO,EAAE,YAAgC,EAAE,aAAiC;QACvF,IAAI,aAAa,CAAC,YAAY,CAAC,QAAM,CAAC,EAAE;YACpC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,aAAa,CAAC,YAAY,CAAC,QAAM,CAAC,CAAC,SAAS,IAAI,YAAY,CAAC,YAAY,CAAC,QAAM,CAAC,CAAC,SAAS,EAAE;gBAC7F,SAAS;gBACT,IAAI,MAAM,GAAG,YAAY,CAAC;gBAC1B,IAAI,KAAK,GAAG,aAAa,CAAC;gBAC1B,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE;oBAC7C,MAAM,GAAG,aAAa,CAAC;oBACvB,KAAK,GAAG,YAAY,CAAC;iBACxB;gBACD,IAAG,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,EAAC;oBAClF,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,QAAM,CAAC,CAAC;iBACtC;aACJ;SACJ;aAAM,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACrB,MAAM;YACN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAClC;IACL,CAAC;;IA7BD;QADC,QAAQ;6CACa;IAHL,MAAM;QAD1B,OAAO;OACa,MAAM,CAiC1B;IAAD,aAAC;CAjCD,AAiCC,CAjCmC,EAAE,CAAC,SAAS,GAiC/C;kBAjCoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["\r\nimport GameSc from \"./GameSc\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BallSc extends cc.Component {\r\n\r\n    @property\r\n    BallIndex: number = 1;\r\n    /** 不要用它检查是否结束游戏 */\r\n    isNotCheckOver = false;\r\n    /** 是不是丢出去的,影响声音处理 */\r\n    isDrop = false;\r\n    start() {\r\n        this.getComponent(cc.PhysicsCollider).restitution = 0.1;       \r\n    }\r\n    \r\n    onBeginContact(contact, selfCollider: cc.PhysicsCollider, otherCollider: cc.PhysicsCollider) {\r\n        if (otherCollider.getComponent(BallSc)) {\r\n            this.isNotCheckOver = true;\r\n            if (otherCollider.getComponent(BallSc).BallIndex == selfCollider.getComponent(BallSc).BallIndex) {\r\n                // 看看是不是球\r\n                let target = selfCollider;\r\n                let other = otherCollider;\r\n                if (otherCollider.node.y <= selfCollider.node.y) {\r\n                    target = otherCollider;\r\n                    other = selfCollider;\r\n                }\r\n                if(cc.find('Canvas/GameSc').getComponent(GameSc).BallLevelUp(target.node, other.node)){\r\n                    other.node.removeComponent(BallSc);\r\n                }\r\n            }\r\n        } else if (!this.isDrop) {\r\n            //仅响一次\r\n            this.isDrop = true;\r\n            cc.game.emit('game-ball-drop');   \r\n        }\r\n    }\r\n}\r\n"]}